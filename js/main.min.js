(function(){function f(a){a.preventDefault();var b=a.currentTarget;a=b.getAttribute("data-address");b.getAttribute("data-ward");b.getAttribute("data-poll");b=document.getElementById("addressDetails");b.getElementsByTagName("h2")[0].innerText=a;b.style.display="block"}function d(){var a=document.getElementById("addressResults"),b=e.value;0===b.length?a.innerHTML='<div class="list-group-item list-group-item-info">To get started, enter your address.</div>':$.get("voterView.asp",{dataType:"json",method:"street_addresses",
query:b}).done(function(b){if(0===b.length)a.innerHTML='<div class="list-group-item list-group-item-danger">There are no addresses available.</div>';else{a.innerHTML=b.reduce(function(b,a){return b+'<button class="list-group-item list-group-item-action" data-address="'+a.Address+'" data-ward="'+a.Ward+'" data-poll="'+a.PollAndSuffix+'" type="button"><div class="clearfix"><strong class="float-left">'+a.Address+"</strong>"+('<small class="float-right text-right">Ward '+a.Ward+"<br />Poll "+a.PollAndSuffix+
"</small>")+"</div></button>"},"");b=a.getElementsByTagName("button");var c;for(c=0;c<b.length;c+=1)b[c].addEventListener("click",f)}}).fail(function(){window.alert("An error occurred communicating with VoterView.  Please refresh your browser and try again.")})}var e=document.getElementById("addressForm--query");e.addEventListener("keyup",function(a){a.preventDefault();d()});d()})();
